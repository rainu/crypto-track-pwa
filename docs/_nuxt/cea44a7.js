(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[17,21,29],{860:function(t,e,r){var map={"./af":711,"./af.js":711,"./ar":712,"./ar-dz":713,"./ar-dz.js":713,"./ar-kw":714,"./ar-kw.js":714,"./ar-ly":715,"./ar-ly.js":715,"./ar-ma":716,"./ar-ma.js":716,"./ar-ps":717,"./ar-ps.js":717,"./ar-sa":718,"./ar-sa.js":718,"./ar-tn":719,"./ar-tn.js":719,"./ar.js":712,"./az":720,"./az.js":720,"./be":721,"./be.js":721,"./bg":722,"./bg.js":722,"./bm":723,"./bm.js":723,"./bn":724,"./bn-bd":725,"./bn-bd.js":725,"./bn.js":724,"./bo":726,"./bo.js":726,"./br":727,"./br.js":727,"./bs":728,"./bs.js":728,"./ca":729,"./ca.js":729,"./cs":730,"./cs.js":730,"./cv":731,"./cv.js":731,"./cy":732,"./cy.js":732,"./da":733,"./da.js":733,"./de":734,"./de-at":735,"./de-at.js":735,"./de-ch":736,"./de-ch.js":736,"./de.js":734,"./dv":737,"./dv.js":737,"./el":738,"./el.js":738,"./en-au":739,"./en-au.js":739,"./en-ca":740,"./en-ca.js":740,"./en-gb":741,"./en-gb.js":741,"./en-ie":742,"./en-ie.js":742,"./en-il":743,"./en-il.js":743,"./en-in":744,"./en-in.js":744,"./en-nz":745,"./en-nz.js":745,"./en-sg":746,"./en-sg.js":746,"./eo":747,"./eo.js":747,"./es":748,"./es-do":749,"./es-do.js":749,"./es-mx":750,"./es-mx.js":750,"./es-us":751,"./es-us.js":751,"./es.js":748,"./et":752,"./et.js":752,"./eu":753,"./eu.js":753,"./fa":754,"./fa.js":754,"./fi":755,"./fi.js":755,"./fil":756,"./fil.js":756,"./fo":757,"./fo.js":757,"./fr":758,"./fr-ca":759,"./fr-ca.js":759,"./fr-ch":760,"./fr-ch.js":760,"./fr.js":758,"./fy":761,"./fy.js":761,"./ga":762,"./ga.js":762,"./gd":763,"./gd.js":763,"./gl":764,"./gl.js":764,"./gom-deva":765,"./gom-deva.js":765,"./gom-latn":766,"./gom-latn.js":766,"./gu":767,"./gu.js":767,"./he":768,"./he.js":768,"./hi":769,"./hi.js":769,"./hr":770,"./hr.js":770,"./hu":771,"./hu.js":771,"./hy-am":772,"./hy-am.js":772,"./id":773,"./id.js":773,"./is":774,"./is.js":774,"./it":775,"./it-ch":776,"./it-ch.js":776,"./it.js":775,"./ja":777,"./ja.js":777,"./jv":778,"./jv.js":778,"./ka":779,"./ka.js":779,"./kk":780,"./kk.js":780,"./km":781,"./km.js":781,"./kn":782,"./kn.js":782,"./ko":783,"./ko.js":783,"./ku":784,"./ku-kmr":785,"./ku-kmr.js":785,"./ku.js":784,"./ky":786,"./ky.js":786,"./lb":787,"./lb.js":787,"./lo":788,"./lo.js":788,"./lt":789,"./lt.js":789,"./lv":790,"./lv.js":790,"./me":791,"./me.js":791,"./mi":792,"./mi.js":792,"./mk":793,"./mk.js":793,"./ml":794,"./ml.js":794,"./mn":795,"./mn.js":795,"./mr":796,"./mr.js":796,"./ms":797,"./ms-my":798,"./ms-my.js":798,"./ms.js":797,"./mt":799,"./mt.js":799,"./my":800,"./my.js":800,"./nb":801,"./nb.js":801,"./ne":802,"./ne.js":802,"./nl":803,"./nl-be":804,"./nl-be.js":804,"./nl.js":803,"./nn":805,"./nn.js":805,"./oc-lnc":806,"./oc-lnc.js":806,"./pa-in":807,"./pa-in.js":807,"./pl":808,"./pl.js":808,"./pt":809,"./pt-br":810,"./pt-br.js":810,"./pt.js":809,"./ro":811,"./ro.js":811,"./ru":812,"./ru.js":812,"./sd":813,"./sd.js":813,"./se":814,"./se.js":814,"./si":815,"./si.js":815,"./sk":816,"./sk.js":816,"./sl":817,"./sl.js":817,"./sq":818,"./sq.js":818,"./sr":819,"./sr-cyrl":820,"./sr-cyrl.js":820,"./sr.js":819,"./ss":821,"./ss.js":821,"./sv":822,"./sv.js":822,"./sw":823,"./sw.js":823,"./ta":824,"./ta.js":824,"./te":825,"./te.js":825,"./tet":826,"./tet.js":826,"./tg":827,"./tg.js":827,"./th":828,"./th.js":828,"./tk":829,"./tk.js":829,"./tl-ph":830,"./tl-ph.js":830,"./tlh":831,"./tlh.js":831,"./tr":832,"./tr.js":832,"./tzl":833,"./tzl.js":833,"./tzm":834,"./tzm-latn":835,"./tzm-latn.js":835,"./tzm.js":834,"./ug-cn":836,"./ug-cn.js":836,"./uk":837,"./uk.js":837,"./ur":838,"./ur.js":838,"./uz":839,"./uz-latn":840,"./uz-latn.js":840,"./uz.js":839,"./vi":841,"./vi.js":841,"./x-pseudo":842,"./x-pseudo.js":842,"./yo":843,"./yo.js":843,"./zh-cn":844,"./zh-cn.js":844,"./zh-hk":845,"./zh-hk.js":845,"./zh-mo":846,"./zh-mo.js":846,"./zh-tw":847,"./zh-tw.js":847};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=860},861:function(t,e,r){"use strict";r.r(e);var n=r(340),o=r(952),c=r(663),l=r(651),f=r(110),d=(r(11),r(10),r(17),r(18),r(12),r(3),r(14),r(0)),j=r(670),m=r(669),h=r(53);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){Object(d.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k={name:"DatePicker",props:{value:{default:function(){return new Date},required:!1,type:Date},label:{required:!1,type:String,default:"transaction.common.date"},error:{required:!1,default:!1,type:Boolean}},data:function(){return{datetime:this.value,date:{dialog:!1,value:j.a(this.value,"yyyy-MM-dd")}}},computed:v(v({},Object(h.d)({firstDayOfWeek:function(t){return t.settings.date.firstDayOfWeek},timeFormat:function(t){return t.settings.date.timeFormat}})),{},{formattedDate:function(){return j.a(this.datetime,this.$t("common.datetime.format.date"))}}),methods:{recalcDate:function(){var t=m.a(this.date.value,"yyyy-MM-dd",new Date);isNaN(t.getDate())&&(t=new Date),this.datetime=t}},watch:{value:function(){this.datetime=this.value,this.date.value=j.a(this.value,"yyyy-MM-dd")},"date.value":function(){this.recalcDate(),this.$emit("input",this.datetime)}}},O=r(59),component=Object(O.a)(k,(function(){var t=this,e=t._self._c;return e(c.a,{ref:"dateDialog",attrs:{width:"290px"},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e(f.a,t._g({attrs:{value:t.formattedDate,label:t.$t(t.label),error:t.error,"prepend-inner-icon":"event",readonly:""},on:{"update:value":function(e){t.formattedDate=e}}},n))]}}]),model:{value:t.date.dialog,callback:function(e){t.$set(t.date,"dialog",e)},expression:"date.dialog"}},[t._v(" "),t.date.dialog?e(o.a,{attrs:{locale:t.$t("common.datetime.locale"),"first-day-of-week":t.firstDayOfWeek,"header-color":"primary",color:"primary",scrollable:"","full-width":""},model:{value:t.date.value,callback:function(e){t.$set(t.date,"value",e)},expression:"date.value"}},[e(l.a),t._v(" "),e(n.a,{attrs:{block:"",color:"primary"},on:{click:function(e){t.date.dialog=!1}}},[t._v("\n      "+t._s(t.$t("common.confirmation.close"))+"\n    ")])],1):t._e()],1)}),[],!1,null,"4c7eda1c",null);e.default=component.exports},862:function(t,e,r){"use strict";r.r(e);var n=r(856),o=n.c.reactiveProp,c={extends:n.a,mixins:[o],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},l=r(59),component=Object(l.a)(c,undefined,undefined,!1,null,"c6df679a",null);e.default=component.exports},919:function(t,e,r){"use strict";r.r(e);var n=r(300),o=r(52),c=r(656),l=r(655),f=(r(11),r(62),r(64),r(60),r(46),r(17),r(18),r(12),r(32),r(43),r(14),r(51)),d=r(29),j=r(0),m=(r(115),r(30),r(10),r(89),r(54),r(176),r(36),r(341),r(3),r(34),r(37),r(664)),h=r(673),y=r(670),v=r(419),k=r.n(v),O=r(53),D=r(861),w=r(862);function C(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,a){if(t){if("string"==typeof t)return z(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?z(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw c}}}}function z(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=Array(a);e<a;e++)r[e]=t[e];return r}function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){Object(j.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $={name:"BalanceHistoryChart",components:{DatePicker:D.default,LineChart:w.default},props:{baseOptions:{required:!1,default:function(){return{responsive:!0}}}},data:function(){return{chartData:{},calcData:{balances:[],totals:[]},from:m.a(new Date,-30),until:new Date,skipCalc:!0}},computed:P(P(P({},Object(O.d)({locale:function(t){return t.settings.locale},currencies:function(t){return t.currencies.currencies},defaultDstCurrency:function(t){return t.settings.balances.dstCurrency}})),Object(O.c)({getCorrespondingCurrency:"currencies/getCurrency"})),{},{correspondingCurrency:function(){return this.getCorrespondingCurrency(this.defaultDstCurrency.type,this.defaultDstCurrency.name)},options:function(){var t=this,e=P(P({},this.baseOptions),{},{tooltips:{callbacks:{label:function(e,data){var r=t.correspondingCurrency.format.numeral,n=data.datasets[e.datasetIndex].label,o=k()(data.datasets[e.datasetIndex].data[e.index]).format(r);return"".concat(n,": ").concat(o," ").concat(t.correspondingCurrency.key)},afterLabel:function(e,data){var r=t.correspondingCurrency.format.numeral,n=t.correspondingCurrency.key,o=Object.entries(t.calcData.totals[e.index].crypto).filter((function(t){var e=Object(d.a)(t,2);e[0];return e[1]>0}));return o.sort((function(t,e){var r=Object(d.a)(t,2),n=(r[0],r[1]),o=Object(d.a)(e,2);o[0];return o[1]-n})),o.map((function(o){var c=Object(d.a)(o,2),l=c[0],f=c[1],j=t.calcData.balances[e.index].find((function(b){return"crypto"===b.currency.type&&b.currency.name===l})).amount,m=t.getCorrespondingCurrency("crypto",l);j=k()(j).format(m.format.numeral);var h=k()(f).format(r);return"".concat(j," ").concat(l," -> ").concat(h," ").concat(n)}))}}}});return e}}),methods:P(P({},Object(O.b)({getHistoricalBalances:"balances/getHistoricalBalancesAt",getHistoricalTotals:"balances/getHistoricalTotalsAt"})),{},{calcChartData:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var r,n,data,o,c,i,l,p,f,j,v,k,O,D;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],n=[],data={labels:[],datasets:[{label:t.$t("balances.total-coins"),fill:!0,backgroundColor:t.$vuetify.theme.currentTheme.success+"88",borderColor:t.$vuetify.theme.currentTheme.primary,data:[]},{label:t.$t("balances.total-currency"),fill:!0,backgroundColor:t.$vuetify.theme.currentTheme.warning+"88",borderColor:t.$vuetify.theme.currentTheme.primary,data:[]},{label:t.$t("balances.total-value"),fill:!0,backgroundColor:t.$vuetify.theme.currentTheme.primary+"88",borderColor:t.$vuetify.theme.currentTheme.primary,data:[]}]},o=Math.abs(h.a(t.from,t.until)),c=[],i=0;i<o;i++)l=m.a(t.from,i),p=Promise.all([t.getHistoricalBalances(l),t.getHistoricalTotals({dstCurrency:t.defaultDstCurrency,at:l})]).then((function(e){var r=Object(d.a)(e,2),n=r[0],o=r[1],c=o?o.total:0,l=n.find((function(b){return b.currency.type===t.defaultDstCurrency.type&&b.currency.name===t.defaultDstCurrency.name}));return{coinValue:c,currencyValue:l=l?l.amount:0,totalValue:c+l,balances:n,totals:o}})),c.push(p);return e.next=8,Promise.all(c);case 8:f=e.sent,j=C(f);try{for(j.s();!(v=j.n()).done;)k=v.value,data.datasets[0].data.push(k.coinValue),data.datasets[1].data.push(k.currencyValue),data.datasets[2].data.push(k.totalValue),r.push(k.balances),n.push(k.totals)}catch(t){j.e(t)}finally{j.f()}for(O=0;O<o;O++)D=m.a(t.from,O),data.labels.push(y.a(D,t.$t("common.datetime.format.date")));t.calcData.balances=r,t.calcData.totals=n,t.chartData=data;case 15:case"end":return e.stop()}}),e)})))()}}),watch:{locale:function(){k.a.locale(this.locale)},from:function(){this.skipCalc||this.calcChartData()},until:function(){this.skipCalc||this.calcChartData()}},mounted:function(){k.a.locale(this.locale),this.skipCalc=!1,this.calcChartData()}},_=r(59),component=Object(_.a)($,(function(){var t=this,e=t._self._c;return e(n.a,[e(o.d),t._v(" "),e(o.a,[e(l.a,[e(c.a,{attrs:{cols:"6"}},[e("DatePicker",{attrs:{label:"chart.range.from"},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}})],1),t._v(" "),e(c.a,{attrs:{cols:"6"}},[e("DatePicker",{attrs:{label:"chart.range.until"},model:{value:t.until,callback:function(e){t.until=e},expression:"until"}})],1)],1)],1),t._v(" "),e(o.c,[e("line-chart",{attrs:{"chart-data":t.chartData,options:t.options}})],1),t._v(" "),e(o.a,[t._t("default")],2)],1)}),[],!1,null,"64b7c6da",null);e.default=component.exports}}]);